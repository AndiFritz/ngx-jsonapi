(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{W1gy:function(l,n,u){"use strict";u.r(n);var t=u("CcnG"),o=function(){},a=u("pMnS"),e=u("ZYCi"),i=u("Ip0R"),r=u("JN4s"),c=u("4H9A"),s=u("QxNE"),b=u("CZaM"),h=u("hnLn"),f=u("1a3L"),p=u("zNQn"),k=function(){function l(l,n,u,t){var o=this;this.route=l,this.authorsService=n,this.booksService=u,this.photosService=t,l.queryParams.subscribe(function(l){u.all({page:{number:l.page||1},include:["author","photos"]}).subscribe(function(l){o.books=l},function(l){return console.info("error books controll",l)})})}return l.prototype.getAll=function(l){var n=this;l.date_published={since:"1983-01-01",until:"2010-01-01"};var u=this.booksService.all({remotefilter:l,page:{number:1},include:["author","photos"]});u.subscribe(function(l){n.books=l,console.log("success books controller",n.books)},function(l){return console.info("error books controller",l)}),u.toPromise().then(function(l){return console.log("books loaded PROMISE")})},l.prototype.delete=function(l){this.booksService.delete(l.id)},l}(),d=t.Ma({encapsulation:2,styles:[],data:{}});function O(l){return t.eb(0,[(l()(),t.Oa(0,0,null,null,3,"a",[],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,u){var o=!0;return"click"===n&&(o=!1!==t.Wa(l,1).onClick(u.button,u.ctrlKey,u.metaKey,u.shiftKey)&&o),o},null,null)),t.Na(1,671744,null,0,e.l,[e.k,e.a,i.h],{routerLink:[0,"routerLink"]},null),t.Xa(2,2),(l()(),t.cb(3,null,["",""]))],function(l,n){l(n,1,0,l(n,2,0,"/authors",n.parent.context.$implicit.relationships.author.data.id))},function(l,n){l(n,0,0,t.Wa(n,1).target,t.Wa(n,1).href),l(n,3,0,n.parent.context.$implicit.relationships.author.data.attributes.name)})}function m(l){return t.eb(0,[(l()(),t.Oa(0,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t.cb(1,null,["",", "]))],null,function(l,n){l(n,1,0,n.context.$implicit.id)})}function g(l){return t.eb(0,[(l()(),t.Oa(0,0,null,null,20,"tr",[],null,null,null,null,null)),(l()(),t.Oa(1,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.cb(2,null,["",""])),(l()(),t.Oa(3,0,null,null,4,"td",[],null,null,null,null,null)),(l()(),t.Oa(4,0,null,null,3,"a",[],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,u){var o=!0;return"click"===n&&(o=!1!==t.Wa(l,5).onClick(u.button,u.ctrlKey,u.metaKey,u.shiftKey)&&o),o},null,null)),t.Na(5,671744,null,0,e.l,[e.k,e.a,i.h],{routerLink:[0,"routerLink"]},null),t.Xa(6,2),(l()(),t.cb(7,null,["",""])),(l()(),t.Oa(8,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),t.cb(9,null,["",""])),t.ab(10,1),(l()(),t.Oa(11,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),t.Fa(16777216,null,null,1,null,O)),t.Na(13,16384,null,0,i.j,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.Oa(14,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),t.Fa(16777216,null,null,1,null,m)),t.Na(16,278528,null,0,i.i,[t.O,t.L,t.t],{ngForOf:[0,"ngForOf"]},null),(l()(),t.Oa(17,0,null,null,3,"td",[],null,null,null,null,null)),(l()(),t.Oa(18,0,null,null,2,"a",[["ng-click","delete(book)"],["title","not supported by demo server"]],null,null,null,null,null)),(l()(),t.Oa(19,0,null,null,1,"small",[],null,null,null,null,null)),(l()(),t.cb(-1,null,["DELETE"]))],function(l,n){l(n,5,0,l(n,6,0,"/books",n.context.$implicit.id)),l(n,13,0,n.context.$implicit.relationships.author.builded),l(n,16,0,n.context.$implicit.relationships.photos.data)},function(l,n){l(n,2,0,n.context.$implicit.id),l(n,4,0,t.Wa(n,5).target,t.Wa(n,5).href),l(n,7,0,n.context.$implicit.attributes.title),l(n,9,0,t.db(n,9,0,l(n,10,0,t.Wa(n.parent,0),n.context.$implicit.attributes.date_published)))})}function v(l){return t.eb(0,[t.Ya(0,i.d,[t.v]),(l()(),t.Oa(1,0,null,null,1,"h3",[],null,null,null,null,null)),(l()(),t.cb(-1,null,["Books"])),(l()(),t.Oa(3,0,null,null,1,"demo-collection-info",[],null,null,null,r.b,r.a)),t.Na(4,49152,null,0,c.a,[],{collection:[0,"collection"]},null),(l()(),t.Oa(5,0,null,null,15,"table",[["class","table table-striped"]],null,null,null,null,null)),(l()(),t.Oa(6,0,null,null,11,"thead",[],null,null,null,null,null)),(l()(),t.Oa(7,0,null,null,10,"tr",[],null,null,null,null,null)),(l()(),t.Oa(8,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.cb(-1,null,["ID"])),(l()(),t.Oa(10,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.cb(-1,null,["Title"])),(l()(),t.Oa(12,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.cb(-1,null,["Date Published"])),(l()(),t.Oa(14,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.cb(-1,null,["Author"])),(l()(),t.Oa(16,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.cb(-1,null,["Photos"])),(l()(),t.Oa(18,0,null,null,2,"tbody",[],null,null,null,null,null)),(l()(),t.Fa(16777216,null,null,1,null,g)),t.Na(20,278528,null,0,i.i,[t.O,t.L,t.t],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null),(l()(),t.Oa(21,0,null,null,1,"demo-collection-paginator",[],null,null,null,s.b,s.a)),t.Na(22,49152,null,0,b.a,[],{collection:[0,"collection"]},null)],function(l,n){var u=n.component;l(n,4,0,u.books),l(n,20,0,u.books.data,u.books.trackBy),l(n,22,0,u.books)},null)}var y=t.Ka("demo-books",k,function(l){return t.eb(0,[(l()(),t.Oa(0,0,null,null,1,"demo-books",[],null,null,null,v,d)),t.Na(1,49152,null,0,k,[e.a,f.a,h.a,p.a],null,null)],null,null)},{},{},[]),N=u("yNqO"),L=u("dC/6"),F=function(){function l(l,n,u,t){var o=this;this.authorsService=l,this.booksService=n,this.photosService=u,this.route=t,t.params.subscribe(function(l){n.get(l.id,{include:["author","photos"]}).subscribe(function(l){o.book=l,console.log("success book",o.book)},function(l){return console.log("error books controll",l)})})}return l.prototype.getAuthorName=function(l){var n=l.relationships.author.data;return n.attributes?n.attributes.name:""},l}(),x=t.Ma({encapsulation:2,styles:[],data:{}});function W(l){return t.eb(0,[(l()(),t.Oa(0,0,null,null,3,"li",[],null,null,null,null,null)),(l()(),t.cb(-1,null,[" URI: "])),(l()(),t.Oa(2,0,null,null,1,"a",[],[[8,"href",4]],null,null,null,null)),(l()(),t.cb(3,null,["",""]))],null,function(l,n){l(n,2,0,t.Qa(1,"",n.context.$implicit.attributes.uri,"")),l(n,3,0,n.context.$implicit.attributes.uri)})}function K(l){return t.eb(0,[(l()(),t.Oa(0,0,null,null,2,"ul",[],null,null,null,null,null)),(l()(),t.Fa(16777216,null,null,1,null,W)),t.Na(2,278528,null,0,i.i,[t.O,t.L,t.t],{ngForOf:[0,"ngForOf"]},null)],function(l,n){l(n,2,0,n.component.book.relationships.photos.data)},null)}function S(l){return t.eb(0,[t.Ya(0,i.d,[t.v]),(l()(),t.Oa(1,0,null,null,1,"h3",[],null,null,null,null,null)),(l()(),t.cb(2,null,["Book #",""])),(l()(),t.Oa(3,0,null,null,1,"demo-resource-info",[],null,null,null,N.b,N.a)),t.Na(4,49152,null,0,L.a,[],{resource:[0,"resource"]},null),(l()(),t.Oa(5,0,null,null,9,"ul",[],null,null,null,null,null)),(l()(),t.Oa(6,0,null,null,3,"li",[],null,null,null,null,null)),(l()(),t.cb(-1,null,["Title: "])),(l()(),t.Oa(8,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t.cb(9,null,["",""])),(l()(),t.Oa(10,0,null,null,4,"li",[],null,null,null,null,null)),(l()(),t.cb(-1,null,["Date Published: "])),(l()(),t.Oa(12,0,null,null,2,"strong",[],null,null,null,null,null)),(l()(),t.cb(13,null,["",""])),t.ab(14,1),(l()(),t.Oa(15,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),t.cb(-1,null,["Author (one)"])),(l()(),t.Oa(17,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),t.Oa(18,0,null,null,3,"small",[],null,null,null,null,null)),(l()(),t.cb(-1,null,["This a relationship with "])),(l()(),t.Oa(20,0,null,null,1,"i",[],null,null,null,null,null)),(l()(),t.cb(-1,null,["hasMany:false"])),(l()(),t.Oa(22,0,null,null,4,"ul",[],null,null,null,null,null)),(l()(),t.Oa(23,0,null,null,3,"li",[],null,null,null,null,null)),(l()(),t.cb(-1,null,["Name: "])),(l()(),t.Oa(25,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t.cb(26,null,["",""])),(l()(),t.Oa(27,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),t.cb(-1,null,["Photos (many)"])),(l()(),t.Oa(29,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),t.Oa(30,0,null,null,3,"small",[],null,null,null,null,null)),(l()(),t.cb(-1,null,["This a relationship with "])),(l()(),t.Oa(32,0,null,null,1,"i",[],null,null,null,null,null)),(l()(),t.cb(-1,null,["hasMany:true"])),(l()(),t.Fa(16777216,null,null,1,null,K)),t.Na(35,16384,null,0,i.j,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.Oa(36,0,null,null,3,"p",[],null,null,null,null,null)),(l()(),t.Oa(37,0,null,null,2,"a",[["routerLink","/books"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,u){var o=!0;return"click"===n&&(o=!1!==t.Wa(l,38).onClick(u.button,u.ctrlKey,u.metaKey,u.shiftKey)&&o),o},null,null)),t.Na(38,671744,null,0,e.l,[e.k,e.a,i.h],{routerLink:[0,"routerLink"]},null),(l()(),t.cb(-1,null,["Volver"]))],function(l,n){var u=n.component;l(n,4,0,u.book),l(n,35,0,u.book.relationships.photos.builded),l(n,38,0,"/books")},function(l,n){var u=n.component;l(n,2,0,u.book.id),l(n,9,0,u.book.attributes.title),l(n,13,0,t.db(n,13,0,l(n,14,0,t.Wa(n,0),u.book.attributes.date_published))),l(n,26,0,u.getAuthorName(u.book)),l(n,37,0,t.Wa(n,38).target,t.Wa(n,38).href)})}var $=t.Ka("demo-book",F,function(l){return t.eb(0,[(l()(),t.Oa(0,0,null,null,1,"demo-book",[],null,null,null,S,x)),t.Na(1,49152,null,0,F,[f.a,h.a,p.a,e.a],null,null)],null,null)},{},{},[]),V=u("SuZp"),w=function(){};u.d(n,"BooksModuleNgFactory",function(){return I});var I=t.La(o,[],function(l){return t.Ua([t.Va(512,t.k,t.Aa,[[8,[a.a,y,$]],[3,t.k],t.y]),t.Va(4608,i.l,i.k,[t.v,[2,i.r]]),t.Va(1073742336,i.b,i.b,[]),t.Va(1073742336,e.m,e.m,[[2,e.s],[2,e.k]]),t.Va(1073742336,V.a,V.a,[]),t.Va(1073742336,w,w,[]),t.Va(1073742336,o,o,[]),t.Va(1024,e.i,function(){return[[{path:"",component:k},{path:":id",component:F}]]},[])])})}}]);